<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Ver estudiantes</title>

    </h:head>
    <h:body>
        <ui:include src="/templates/miembro_comite.xhtml"/>
        <b:container style-class="table-container">
            <h1>Ver todos los estudiantes</h1>
            <b:form >
                <input type="hidden" name="estudiante_eliminar" id="estudiante_eliminar" value=""/>
                <h:outputLabel styleClass="mensaje-error" 
                               value="#{eliminarEstudianteBean.error}">
                </h:outputLabel>
                <h:outputLabel styleClass="mensaje-success" 
                               value="#{eliminarEstudianteBean.success}">
                </h:outputLabel>
                <b:dataTable value="#{listaEstudiantesBean.estudiantes}" 
                             var="e"
                             fixedHeader="true"
                             responsive="true"
                             id="tabla_estudiantes">
                    <b:dataTableColumn label="CÃ³digo" 
                                       value="#{e.estudianteCodigo}" />
                    <b:dataTableColumn label="Documento" 
                                       value="#{e.estudiantePersona.personaIdentificacion}" />
                    <b:dataTableColumn label="P Apellido" 
                                       value="#{e.estudiantePersona.personaPApellido}" />
                    <b:dataTableColumn label="S Apellido" 
                                       value="#{e.estudiantePersona.personaSApellido}" />
                    <b:dataTableColumn label="P Nombre" 
                                       value="#{e.estudiantePersona.personaPNombre}" />
                    <b:dataTableColumn label="S Nombre" 
                                       value="#{e.estudiantePersona.personaSNombre}" />
                    <b:dataTableColumn label="Email" 
                                       value="#{e.estudiantePersona.personaEmail}" />
                    <b:dataTableColumn label="">
                        <b:commandButton value="Eliminar" 
                                         look="danger"
                                         iconAwesome="times" 
                                         onclick="setHiddenValue('#{e.estudianteCodigo}');"
                                         actionListener="#{eliminarEstudianteBean.eliminar}">
                        </b:commandButton>   
                    </b:dataTableColumn>
                </b:dataTable>
            </b:form>
        </b:container>
        <script>
            function setHiddenValue(new_value) {
                document.getElementById('estudiante_eliminar').value = new_value;                
                //j_idt39tabla_estudiantes_wrapper.DataTable().destroy();
            }
        </script>
    </h:body>
</html>
